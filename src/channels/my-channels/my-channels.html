<template>
        <require from="./my-channels.css"></require>
        <navigation-bar title="My Channels" more.bind="more"></navigation-bar>
        <section class="page-myChannels">
                <sorted-list items.bind="channels">
                        <template replace-part="item">
                                <a click.trigger="modifyChannel(item)" href="#/channels/${item.id}">
                                        <div class="icon">
                                                <inline-svg svg="resources/images/svg/${item.type}" ></inline-svg>
                                        </div>
                                        <div class="title">${item.name}</div>
                                        <div class="subtitle">${item.visible == "true" ? '' : '(hidden)'}</div>
                                        <div class="right">
                                                <button class='f-btn' click.trigger="toggleChannelState(item, $event)">Leave</button>                                               
                                        </div>
                                </a>
                        </template>
                </sorted-list>
                <!--<table>
                        <thead>
                                <tr>
                                        <th>Name</th>
                                        <!-- TODO: only admins see the visible column -->
                                        <!--<th show.bind="user.admin">Visibility</th>
                                        <th>Action</th>
                                </tr>
                        </thead>
                        <tr repeat.for="channel of channels">
                                <td>${channel.name}</td>-->
                                <!-- TODO: visible column is an admin toggle with a HTTP POST -->
                                <!--<td show.bind="user.admin">
                                        <a href="#" click.delegate="setVisible(channel.id)" show.bind="channel.visible === 'false'">
                                        Private
                                        </a>
                                        <a href="#" click.delegate="setHidden(channel.id)" show.bind="channel.visible === 'true'">
                                        Public
                                        </a>
                                </td>-->
                                <!-- TODO: join button becomes joined and disabled if already a member -->
                                <!-- TODO: join disabled if not visible (admins) -->
                                <!--<td>
                                        <span show.bind="'true' === channel.visible || channel.member">
                                                <button show.bind="false === channel.member" click.delegate="join(channel.id)">Join</button>
                                                <span show.bind="channel.member">member</span>
                                        </span>
                                </td>
                        </tr>
                </table>-->
        </section>
</template>
