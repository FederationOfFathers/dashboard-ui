{"version":3,"sources":["app.js","environment.js","main.js","welcome.js","api/api.js","api/groups.js","api/streams.js","api/user.js","apiTests/apiTests.js","cache/user.js","resources/index.js","resources/elements/nav-bar.js","admin/admin.js","/Users/AndyBob/Sites/Github/FederationOfFathers/dashboard-ui/dashboard/src/app.html","app.scss","/Users/AndyBob/Sites/Github/FederationOfFathers/dashboard-ui/dashboard/src/welcome.html","/Users/AndyBob/Sites/Github/FederationOfFathers/dashboard-ui/dashboard/src/apiTests/apiTests.html","/Users/AndyBob/Sites/Github/FederationOfFathers/dashboard-ui/dashboard/src/resources/elements/nav-bar.html","/Users/AndyBob/Sites/Github/FederationOfFathers/dashboard-ui/dashboard/src/admin/admin.html"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {inject} from 'aurelia-framework';\nimport {UserApi} from 'api/user';\nimport {UserCache} from 'cache/user';\n\n@inject(UserApi, UserCache)\nexport class App {\n\n  constructor(userApi, userCache){\n    this.userApi = userApi;\n    this.userCache = userCache;\n    this.user;\n\n    this._userPing = window.setInterval(()=>{\n      this.getUserInfo();\n    }, 60000); //Refresh user data every 60 seconds\n  }\n\n  activate(){\n    return this.getUserInfo()\n      .then(()=>{\n          this.user = this.userCache.get();\n      });\n  }\n\n  configureRouter(config, router) {\n    config.title = 'FoF Dashboard';\n    config.map([\n      { route: ['', 'welcome'], name: 'welcome',      moduleId: 'welcome',      nav: true, title: 'Welcome' },\n      { route: 'apiTest',         name: 'apiTest',        moduleId: 'apiTests/apiTests',        nav: true, title: 'API Tests' },\n      { route: 'admin',         name: 'admin',        moduleId: 'admin/admin',        nav: this.user.admin , title: 'Admin Portal' }\n    ]);\n\n    this.router = router;\n  }\n\n  getUserInfo(){\n    return this.userApi.ping().then(data => {\n            this.userCache.set(data);\n        }).catch(err => {\n            console.error(err)\n        });\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport 'jquery';\nimport 'bootstrap';\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  aurelia.use.plugin('aurelia-animator-css')\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class Welcome {\n    constructor(){\n        \n    }\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-fetch-client';\nimport 'whatwg-fetch';\n\nimport environment from '../environment';\n\nlet BASE_URL = '/api/v0/';\nif (environment.debug){\n    BASE_URL = 'http://fofgaming.com:8867/api/v0/';\n}\n\n@inject(HttpClient)\nexport class Api {\n    constructor(http) {\n        http.configure(config => {\n            config\n                .withBaseUrl(BASE_URL)\n                .withDefaults({\n                    credentials: 'include'\n                })\n                .withInterceptor({\n                    request(request) {\n                        console.log(`Intercepted request using method: ${request.method} with URL: ${request.url}`);\n                        return request;\n                    },\n                    response(response) {\n                        console.log(`Intercepted response ${response.status} using URL: ${response.url}`);\n                        if (response.status > 299 || response.status < 200){\n                            throw Error('Logged out: response ${response.status}');\n                        }\n                        return response;\n                    }\n                });\n        });\n        this.http = http;\n    }\n\n    get(url){\n        return this.http.fetch(url)\n            .then(response => {\n                return response.json()\n            })\n    }\n    put(url, payload){       \n        //TODO: Test to make sure this works. Not tested yet\n        var data = new FormData();\n        data.append( \"json\", JSON.stringify( payload ) );\n        return this.http.fetch(url,\n            {\n                method: \"put\",\n                body: data\n            })\n            .then(response => {\n                return response.json()\n            })\n    }\n    post(){\n        throw Error('Not yet implemented');\n    }\n    delete(url){\n        //TODO: Test to make sure this works. Not tested yet\n        return this.http.fetch(url,\n            {\n                method: \"delete\",\n            })\n            .then(response => {\n                return response.json()\n            })\n    }\n}","import {inject} from 'aurelia-framework';\nimport {Api} from './api';\n\n@inject(Api)\nexport class GroupsApi {\n    constructor(api){\n        this.api = api;\n    }\n\n    get(){\n        return this.api.get(\"groups\");\n    }\n    join(id){\n        return this.api.get(\"groups/${id}/join\");\n    }\n    visibility(id){\n        return this.api.put(\"groups/${id}/visibility\");\n    }\n}","import {inject} from 'aurelia-framework';\nimport {Api} from './api';\n\n@inject(Api)\nexport class StreamsApi {\n    constructor(api){\n        this.api = api;\n    }\n\n    get(key){\n        if(key){\n            return this.api.get(\"streams/${key}\");\n        } else {\n            return this.api.get(\"streams\");\n        }\n    }\n    delete(key){\n        return this.api.delete(\"streams/${key}\");\n    }\n\n}","import {inject} from 'aurelia-framework';\nimport {Api} from './api';\n\n@inject(Api)\nexport class UserApi {\n    constructor(api){\n        this.api = api;\n    }\n\n    ping(){\n        return this.api.get(\"ping\");\n    }\n    login(){\n        return this.api.get(\"login\");\n    }\n    logout(){\n        return this.api.get(\"logout\");\n    }\n}","import {inject} from 'aurelia-framework';\nimport {UserCache} from 'cache/user';\n\n@inject(UserCache)\nexport class ApiTests{\n    constructor(userCache){\n        this.userCache = userCache;\n        this.user = userCache.get();\n    }\n    activate(){\n        console.log(this.user);\n    }\n\n    get isAdmin(){\n        return this.user.admin;\n    }\n    get stringifiedUser(){\n        return JSON.stringify(this.user.user);\n    }\n    get userChannels(){\n        return this.user.channels;\n    }\n    get userGroups(){\n        return this.user.groups;\n    }\n}","export class UserCache{\n    constructor(){\n        this.user = {}\n    }\n\n    set(userInfo){\n        this.user = userInfo;\n    }\n    get(){\n        return this.user;\n    }\n}","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {bindable} from 'aurelia-framework';\nexport class NavBarCustomElement {  \n  @bindable router;\n  \n  constructor(){\n    this.message = 'hello world';\n  }  \n}\n\n","import {inject} from 'aurelia-framework';\nimport {UserCache} from 'cache/user';\n\n@inject(UserCache)\nexport class AdminPortal{\n    constructor(userCache){\n        this.userCache = userCache;\n    }\n}",null,"body {\n  margin: 0;\n}\n\n.page-host {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50px;\n  bottom: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n@media print {\n  .page-host {\n    position: absolute;\n    left: 10px;\n    right: 0;\n    top: 50px;\n    bottom: 0;\n    overflow-y: inherit;\n    overflow-x: inherit;\n  }\n}\n\nsection {\n  margin: 0 20px;\n}\n\n.navbar-nav li.loader {\n  margin: 12px 24px 0 6px;\n}\n\n/* animate page transitions */\nsection.au-enter-active {\n  -webkit-animation: fadeInRight 1s;\n  animation: fadeInRight 1s;\n}\n\ndiv.au-stagger {\n  /* 50ms will be applied between each successive enter operation */\n  -webkit-animation-delay: 50ms;\n  animation-delay: 50ms;\n}\n\n/* animation definitions */\n@-webkit-keyframes fadeInRight {\n  0% {\n    opacity: 0;\n    -webkit-transform: translate3d(100%, 0, 0);\n    transform: translate3d(100%, 0, 0)\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none\n  }\n}\n\n@keyframes fadeInRight {\n  0% {\n    opacity: 0;\n    -webkit-transform: translate3d(100%, 0, 0);\n    -ms-transform: translate3d(100%, 0, 0);\n    transform: translate3d(100%, 0, 0)\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: none;\n    -ms-transform: none;\n    transform: none\n  }\n}\n\n@-webkit-keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}",null,null,null,null],"sourceRoot":"../src"}